<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="itemns">

	<insert id="insert" parameterType="orderItem">
		insert into order_item values (#{orderNo}, #{productCd}, #{requestqty}, #{requestdate}, #{price}, #{amount}, #{remark})
	</insert>
	
	<select id="itemList" parameterType="integer" resultType="orderItem">
		select * from order_item where order_no = #{orderNo}
	</select>
	
	<select id="orderStatusList" resultType="orderItem">
		select	distinct *
		from	order_head h, 
				order_item i, 
				m_product p, 
				m_employee e, 
				m_buyer b
   		where h.order_no=i.order_no
   			and i.product_cd=p.product_cd 
      		and h.employee_cd=e.employee_cd
        	and h.buyer_cd=b.buyer_cd
    	order by h.orderdate desc , h.order_no asc
	</select>
</mapper>